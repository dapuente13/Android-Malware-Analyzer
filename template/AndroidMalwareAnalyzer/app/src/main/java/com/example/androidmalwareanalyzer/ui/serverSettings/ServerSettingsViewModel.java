package com.example.androidmalwareanalyzer.ui.serverSettings;

import androidx.lifecycle.LiveData;
import androidx.lifecycle.MutableLiveData;
import androidx.lifecycle.ViewModel;

import java.util.ArrayList;
import java.util.List;

public class ServerSettingsViewModel extends ViewModel {

    private MutableLiveData<String> mText;
    private List<String> connectionsList = new ArrayList<String>();
    private int selectedConnection;
    private boolean selected = false;

    public ServerSettingsViewModel() {
        mText = new MutableLiveData<>();
        mText.setValue("Server connections [IP:Port]");
    }

    public LiveData<String> getText() { return mText; }

    public List<String> getConnectionsList() {
        return connectionsList;
    }

    public boolean isSelected() {
        return selected;
    }

    public String getSelectedConnection() {
        return connectionsList.get(selectedConnection);
    }

    public void setSelectedConnection(int position) {
        selected = true;
        selectedConnection = position;
    }

    public void addConnection(String str) {
        connectionsList.add(str);
    }

    public void deleteSelectedConnection() {
        if(selected) {
            connectionsList.remove(selectedConnection);
            if(selectedConnection >= connectionsList.size())
                selected = false;
        }
    }
}